<?xml version="1.0" encoding="UTF-8"?>

<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd">

  <changeSet id="UAR-2884_1" author="Natalia C Ibanez">
    <comment>
      UAR-2884:  Create UA Batch Adminstrators Role
    </comment>
    <sql>
      insert into KRIM_ROLE_T (ROLE_ID,OBJ_ID,VER_NBR,ROLE_NM,NMSPC_CD,DESC_TXT,KIM_TYP_ID,ACTV_IND,LAST_UPDT_DT)
      values (KRIM_ROLE_ID_S.NEXTVAL, SYS_GUID(), 1, 'UA Batch Admin', 'KC-ADM', 'UA Batch Adminstrators', '1', 'Y', CURRENT_TIMESTAMP);
    </sql>
    <rollback>
      delete from krim_role_t where ROLE_NM='UA Batch Admin';
    </rollback>
  </changeSet>
  <changeSet id="UAR-2884_2" author="Natalia C Ibanez">
    <comment>
      UAR-2884: Add  Modify Batch Job Permission to UA Batch Adminstrators Role.
    </comment>
    <sql>
      insert into KRIM_ROLE_PERM_T (ROLE_PERM_ID,OBJ_ID,VER_NBR,ACTV_IND,ROLE_ID,PERM_ID)
      values (KRIM_ROLE_PERM_ID_S.NEXTVAL, SYS_GUID(), 1, 'Y', (select ROLE_ID from KRIM_ROLE_T where ROLE_NM='UA Batch Admin'), 164);
    </sql>
    <rollback>
      delete from KRIM_ROLE_PERM_T WHERE role_id IN (select ROLE_ID from KRIM_ROLE_T where ROLE_NM='UA Batch Admin');
    </rollback>
  </changeSet>
</databaseChangeLog>
